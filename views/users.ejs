<%- include('./includes/header.ejs') %>

    the user page

    <form action="users" method="post enctype=multipart/form-data" id="add-user-form">
      <input type="text" placeholder="enter name" name="name">
      <p class="error"></p>

      <input type="text" placeholder="enter email" name="email">
      <p class="error"></p>

      <input type="text" placeholder="enter password" name="password">
      <p class="error"></p>

      <input type="text" placeholder="enter mobile" name="mobile">
      <p class="error"></p>

      <input type="file" name="avatar">
      <p class="error"></p>

      <input type="submit" value="submit">
    </form>
  </body>

<script>
 const form  = document.querySelector("#add-user-form");
 form.onsubmit = async function(event) {
  event.preventDefault();

  const formData = new FormData(form);

  let response = await fetch('/users', {
    method: "POST", 
    body: formData
  })

  let result = await response.json();
  console.log(result)
 }


</script>



</html>
